ensure($val, $type)
  if typeof($val) != $type
    error('expected a ' + $type + ', but got ' + typeof($val))
