ensure(val, type)
  unless val is a type
    error('expected a ' + type + ', but got ' + typeof(val))
